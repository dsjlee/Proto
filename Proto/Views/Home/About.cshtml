@{
    ViewBag.Title = "About";
}
<h2>@ViewBag.Title</h2>
<h3>@ViewBag.Message</h3>

<p>
    <button type="button" id="progress-btn" class="btn btn-primary btn-sm">Progress</button>
</p>
<div class="progress">
    <div class="progress-bar progress-bar-striped"
         id="progress-element"
         role="progressbar"
         aria-valuenow="0"
         aria-valuemin="0"
         aria-valuemax="100"
         style="width: 0%; min-width: 2em;">0%</div>
</div>

<pre>
@ViewBag.Payload
</pre>

@section Scripts {
    <script>
    $(function () {

        $('#progress-btn').click(function () {
            var progressEl = $('#progress-element');
            progressEl.addClass('active');
            var percent = 0;
            setTimeout(function () {
                progressFn(percent, progressEl);
            }, 100);
        });

        function progressFn(percent, progressEl) {           
            progressEl.html(percent + '%').css('width', percent + '%').attr('aria-valuenow', percent);
            if (percent === 100) {
                progressEl.removeClass('active');
            } else {
                percent++;
                setTimeout(function () {
                    progressFn(percent, progressEl);
                }, 100);
            }
        }
    });
    </script>
}